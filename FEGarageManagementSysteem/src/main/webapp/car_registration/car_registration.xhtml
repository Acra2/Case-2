<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough" xmlns:f="http://xmlns.jcp.org/jsf/core">

<ui:composition template="/template.xhtml">

    <ui:define name="title">
        Autobeheer
    </ui:define>

    <ui:define name="header">
        Invoeren autogegevens
    </ui:define>

    <ui:define name="content">

        <h:form styleClass="form-horizontal">
            <div class="col-md-12">
                <h:messages for="vehincleNumber" autoUpdate="true"/>
                <div class="form-group">
                    <h:inputText styleClass="form-control" id="vehincleNumber" required="true" requiredMessage="Auto nummer is verplicht"
                                 value="#{carRegisterService.car.vehicleNumber}" p:placeholder="Auto nummer"/>
                </div>

                <div class="form-group">
                    <h:inputText styleClass="form-control" id="driverEmail"
                                 value="#{carRegisterService.car.driverEmail}" p:placeholder="Bestuurders e-mail"/>
                </div>
                <div class="form-group">
                    <h:inputText styleClass="form-control" id="driverName" value="#{carRegisterService.car.driverName}"
                                 p:placeholder="Bestuurders naam"/>
                </div>
                <div class="form-group">
                    <h:inputText styleClass="form-control" id="driverPhoneNumber"
                                 value="#{carRegisterService.car.driverPhoneNumber}"
                                 p:placeholder="Bestuurders telefoon"/>
                </div>
                <h:messages for="licenseplate" autoUpdate="true"/>
                <div class="form-group">
                    <h:inputText styleClass="form-control" id="licenseplate" required="true" requiredMessage="Nummerbord is verplicht"
                                 value="#{carRegisterService.car.licensePlate}" p:placeholder="Nummerbord"/>
                </div>
                <div class="form-group">
                    <h:inputText styleClass="form-control" id="mileage" value="#{carRegisterService.car.mileage}"
                                 p:placeholder="Kilometers"/>
                </div>

                <div class="form-group">
                    <h:selectOneMenu styleClass="form-control" id="selectModel"
                                     value="#{carRegisterService.modelID}">
                        <f:selectItem styleClass="form-control" value="#{null}"
                                      itemLabel="-- Selecteer model --"/>
                        <f:selectItems styleClass="form-control"
                                       value="#{carRegisterService.modelService.getAllModels()}"
                                       var="m" itemValue="#{m.id}"
                                       itemLabel="#{m.name}"/>
                        <f:ajax event="change" execute="@form"
                                listener="#{carRegisterService.setModel()}" />
                    </h:selectOneMenu>
                </div>

            </div>

            <div class="col-md-12">
                <div class="form-group">
                    <div class="btn-group">
                        <h:commandLink styleClass="btn btn-danger" value="beeindigen" action="/car"/>
                        <h:commandLink styleClass="btn btn-primary" value="volgende"
                                       action="#{carRegisterService.selectCustomer()}"/>
                    </div>
                </div>
            </div>

        </h:form>

    </ui:define>

</ui:composition>
</html>